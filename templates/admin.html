{% extends "layout.html" %} {% block content %} {% if not
session.get('is_admin') %}
<!-- AccÃ¨s Admin -->
<div class="row justify-content-center">
  <div class="col-md-6">
    <div class="game-card">
      <h2 class="text-center">ğŸ”‘ Connexion Administrateur</h2>
      {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
      {% endif %}
      <form method="POST">
        <div class="mb-3">
          <label for="password" class="form-label">Mot de passe :</label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            required
          />
        </div>
        <button type="submit" class="btn btn-primary w-100 btn-sm">
          AccÃ©der au panneau
        </button>
      </form>
    </div>
  </div>
</div>
{% else %}
<!-- Tableau de Bord -->
<div class="row">
  <div class="col-12">
    <div class="game-card text-center">
      <h2>ğŸ“Š Tableau de Bord Administrateur</h2>
      <p class="lead">
        ContrÃ´lez les sessions en direct et ajustez les paramÃ¨tres du jeu.
      </p>
    </div>
  </div>
</div>

<!-- Grille du Moniteur Admin -->
<div class="row mt-4">
  <!-- ğŸ”¹ Gestion des Ã©quipes -->
  <div class="col-lg-4 col-md-6">
    <div class="game-card">
      <h4>ğŸ‘¥ Gestion des Ã‰quipes</h4>
      <form action="{{ url_for('route_auto_teams') }}" method="POST">
        <button type="submit" class="btn btn-warning btn-sm w-100">
          <i class="bi bi-people-fill"></i> Former les Ã©quipes alÃ©atoirement
        </button>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Gestion des Scores -->
  <div class="col-lg-4 col-md-6">
    <div class="game-card">
      <h4>ğŸ† Scores</h4>
      <form action="{{ url_for('update_score') }}" method="POST">
        <div class="input-group">
          <select name="team" class="form-select form-select-sm">
            <option value="1">Ã‰quipe 1</option>
            <option value="2">Ã‰quipe 2</option>
          </select>
          <input
            type="number"
            name="points"
            class="form-control form-control-sm"
            value="1"
          />
          <button type="submit" class="btn btn-success btn-sm">+</button>
        </div>
      </form>
      <form action="{{ url_for('update_score') }}" method="POST" class="mt-2">
        <div class="input-group">
          <select name="team" class="form-select form-select-sm">
            <option value="1">Ã‰quipe 1</option>
            <option value="2">Ã‰quipe 2</option>
          </select>
          <input
            type="number"
            name="points"
            class="form-control form-control-sm"
            value="-1"
          />
          <button type="submit" class="btn btn-danger btn-sm">-</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Gestion du Quiz -->
  <div class="col-lg-4 col-md-6">
    <div class="game-card">
      <h4>ğŸ“š Gestion du Quiz</h4>
      <form action="{{ url_for('next_question') }}" method="POST">
        <button type="submit" class="btn btn-warning btn-sm w-100">
          <i class="bi bi-arrow-right-circle"></i> Question suivante
        </button>
      </form>
      <form action="{{ url_for('reveal_answer') }}" method="POST" class="mt-2">
        <button type="submit" class="btn btn-primary btn-sm w-100">
          <i class="bi bi-eye-fill"></i> RÃ©vÃ©ler la rÃ©ponse
        </button>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Lanceur du ChronomÃ¨tre -->
  <div class="col-lg-4 col-md-6">
    <div class="game-card">
      <h4>â³ ContrÃ´le du ChronomÃ¨tre</h4>
      <form action="{{ url_for('start_countdown') }}" method="POST">
        <div class="input-group">
          <input
            type="number"
            name="seconds"
            class="form-control form-control-sm"
            placeholder="Secondes"
            value="30"
          />
          <button type="submit" class="btn btn-primary btn-sm">DÃ©marrer</button>
        </div>
      </form>
      <form action="{{ url_for('stop_countdown') }}" method="POST" class="mt-2">
        <button type="submit" class="btn btn-danger btn-sm w-100">
          ArrÃªter
        </button>
      </form>
    </div>

    <!-- ğŸ”¹ RÃ©initialiser le jeu (placÃ© en bas du ChronomÃ¨tre) -->
    <div class="game-card mt-3">
      <h4>ğŸ”„ RÃ©initialiser</h4>
      <form action="{{ url_for('reset_game') }}" method="POST">
        <button type="submit" class="btn btn-danger btn-sm w-100">
          <i class="bi bi-arrow-counterclockwise"></i> RÃ©initialiser le jeu
        </button>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Roulette et DÃ© -->
  <div class="col-lg-4 col-md-6">
    <div class="game-card">
      <h4>ğŸ¡ ThÃ¨me & DÃ©</h4>
      <form action="{{ url_for('spin_roulette') }}" method="POST">
        <button type="submit" class="btn btn-info btn-sm w-100">
          <i class="bi bi-arrow-clockwise"></i> Lancer la roulette
        </button>
      </form>
      <form action="{{ url_for('roll_dice') }}" method="POST" class="mt-2">
        <button type="submit" class="btn btn-secondary btn-sm w-100">
          <i class="bi bi-dice-1"></i> Lancer un dÃ©
        </button>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Chat en Direct pour l'Admin -->
  <div class="col-lg-4 col-md-12">
    <div class="game-card">
      <h4>ğŸ’¬ Chat en Direct</h4>
      <div
        id="chatMessages"
        style="
          height: 150px;
          overflow-y: auto;
          border: 1px solid #333;
          padding: 5px;
          background: #1a1a2e;
          font-size: 0.9em;
        "
      ></div>
      <form id="chatForm">
        <div class="input-group">
          <input
            type="text"
            id="chatInput"
            class="form-control form-control-sm"
            placeholder="Envoyer un message..."
          />
          <button type="submit" class="btn btn-primary btn-sm">Envoyer</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endif %} {% endblock %}
